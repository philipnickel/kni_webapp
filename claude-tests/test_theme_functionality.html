<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme Functionality Test</title>
    <link href="../static/css/site.css" rel="stylesheet">
    <script src="../static/js/theme.js"></script>
</head>
<body class="bg-base-100 text-base-content p-8">
    <div class="container mx-auto max-w-4xl">
        <h1 class="text-3xl font-bold mb-8">JCleemann Byg Theme Test</h1>

        <!-- Theme Selector -->
        <div class="mb-8">
            <h2 class="text-xl mb-4">Select Theme:</h2>
            <div class="flex gap-4">
                <button onclick="switchTheme('light')" class="btn btn-outline">Light</button>
                <button onclick="switchTheme('corporate')" class="btn btn-outline">Corporate</button>
                <button onclick="switchTheme('business')" class="btn btn-outline">Business</button>
                <button onclick="switchTheme('emerald')" class="btn btn-outline">Emerald</button>
            </div>
        </div>

        <!-- Current Theme Display -->
        <div class="mb-8">
            <h2 class="text-xl mb-4">Current Theme:</h2>
            <div class="alert alert-info">
                <span id="current-theme">Loading...</span>
            </div>
        </div>

        <!-- Sample Content -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <div class="card bg-base-100 shadow-xl">
                <div class="card-body">
                    <h3 class="card-title">Construction Services</h3>
                    <p>Professional construction services with over 20 years of experience in the industry.</p>
                    <div class="card-actions justify-end">
                        <button class="btn btn-primary">Learn More</button>
                    </div>
                </div>
            </div>

            <div class="card bg-base-100 shadow-xl">
                <div class="card-body">
                    <h3 class="card-title">Renovation Projects</h3>
                    <p>Complete renovation solutions for residential and commercial properties.</p>
                    <div class="card-actions justify-end">
                        <button class="btn btn-secondary">Get Quote</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Test Results -->
        <div class="mt-8">
            <h2 class="text-xl mb-4">Theme Validation Test:</h2>
            <div id="test-results" class="space-y-2"></div>
        </div>
    </div>

    <script>
        // Update current theme display
        function updateCurrentThemeDisplay() {
            document.getElementById('current-theme').textContent = getCurrentTheme() || 'default';
        }

        // Listen for theme changes
        window.addEventListener('themechange', function(event) {
            updateCurrentThemeDisplay();
            console.log('Theme changed to:', event.detail.theme);
        });

        // Initial theme display
        updateCurrentThemeDisplay();

        // Test theme validation
        function runThemeTests() {
            const validThemes = ['light', 'corporate', 'business', 'emerald'];
            const invalidThemes = ['dark', 'luxury', 'garden', 'autumn'];
            const testResults = document.getElementById('test-results');

            testResults.innerHTML = '<h3 class="text-lg font-semibold">Valid Themes:</h3>';

            validThemes.forEach(theme => {
                const available = getAvailableThemes().includes(theme);
                testResults.innerHTML += `
                    <div class="alert ${available ? 'alert-success' : 'alert-error'}">
                        Theme "${theme}": ${available ? '✓ Available' : '✗ Not Available'}
                    </div>
                `;
            });

            testResults.innerHTML += '<h3 class="text-lg font-semibold mt-4">Invalid Themes (Should Be Rejected):</h3>';

            invalidThemes.forEach(theme => {
                const available = getAvailableThemes().includes(theme);
                testResults.innerHTML += `
                    <div class="alert ${!available ? 'alert-success' : 'alert-error'}">
                        Theme "${theme}": ${!available ? '✓ Correctly Rejected' : '✗ Incorrectly Available'}
                    </div>
                `;
            });
        }

        // Run tests on page load
        runThemeTests();
    </script>
</body>
</html>