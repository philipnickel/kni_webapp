# =============================================================================
# Production Environment Configuration for Dokploy
# Dokploy requires numeric healthcheck intervals (in seconds, not string format)
# =============================================================================

# =============================================================================
# Docker Configuration
# =============================================================================
DOCKER_TARGET=production
DOCKERFILE=Dockerfile

# =============================================================================
# Port Configuration (no exposed ports for Dokploy reverse proxy)
# =============================================================================
# WEB_EXPOSE_PORT=  # Leave empty for production (uses expose instead)
# DATABASE_EXPOSE_PORT=  # Leave empty for production security
# REDIS_EXPOSE_PORT=  # Leave empty for production security

# =============================================================================
# REQUIRED: Dokploy Domain Configuration
# =============================================================================
PRIMARY_DOMAIN=jcleemannbyg.dk
COMPOSE_PROJECT_NAME=kni-webapp

# =============================================================================
# REQUIRED: Security Configuration
# =============================================================================
DJANGO_SECRET_KEY=your-super-secret-key-here-make-it-long-and-random-50-chars
DATABASE_PASSWORD=your_secure_production_password
REDIS_PASSWORD=your_secure_redis_password

# =============================================================================
# Django Core Settings
# =============================================================================
DEBUG=False
ALLOWED_HOSTS=jcleemannbyg.dk,www.jcleemannbyg.dk,kni.dk,www.kni.dk
CSRF_TRUSTED_ORIGINS=https://jcleemannbyg.dk,https://www.jcleemannbyg.dk,https://kni.dk

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_URL=postgresql://kni_user:your_secure_production_password@db:5432/kni_webapp_prod
DATABASE_NAME=kni_webapp_prod
DATABASE_USER=kni_user

# =============================================================================
# Application Configuration
# =============================================================================
WAGTAILADMIN_BASE_URL=https://jcleemannbyg.dk
SECURE_SSL_REDIRECT=True

# =============================================================================
# Email Configuration (Optional)
# =============================================================================
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
DEFAULT_FROM_EMAIL=noreply@jcleemannbyg.dk

# =============================================================================
# Performance Settings
# =============================================================================
MEMORY_LIMIT=1G
CPU_LIMIT=1.0
MEMORY_RESERVATION=512M
CPU_RESERVATION=0.5

# =============================================================================
# Data Management
# =============================================================================
LOAD_BASELINE=false
SEED_TENANT_DATA=false

# =============================================================================
# Security Settings
# =============================================================================
DJANGO_SECURE_HSTS_SECONDS=31536000
DJANGO_SECURE_HSTS_INCLUDE_SUBDOMAINS=True
DJANGO_SECURE_HSTS_PRELOAD=True

# =============================================================================
# Production Admin User (Optional - only for initial setup)
# =============================================================================
DJANGO_SUPERUSER_EMAIL=admin@jcleemannbyg.dk
DJANGO_SUPERUSER_PASSWORD=your_secure_admin_password

# =============================================================================
# Health Check Configuration (Dokploy compatible - numeric seconds only)
# =============================================================================
DB_HEALTH_INTERVAL=10s
DB_HEALTH_TIMEOUT=5s
DB_HEALTH_START_PERIOD=10s

REDIS_HEALTH_INTERVAL=10s
REDIS_HEALTH_TIMEOUT=5s
REDIS_HEALTH_START_PERIOD=5s

WEB_HEALTH_INTERVAL=30s
WEB_HEALTH_TIMEOUT=10s
WEB_HEALTH_START_PERIOD=120s

# =============================================================================
# Logging
# =============================================================================
DJANGO_LOG_LEVEL=INFO

# =============================================================================
# Traefik Labels for Dokploy
# =============================================================================
TRAEFIK_ENABLED=true