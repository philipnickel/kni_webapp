{% extends "base.html" %}
{% load wagtailcore_tags wagtailsettings_tags %}
{% load static %}

{% block content %}

<!-- FAQ Section -->
<section class="bg-white dark:bg-gray-900">
    <div class="container px-6 py-12 mx-auto">
        <h1 class="text-2xl font-semibold text-center text-gray-800 lg:text-3xl dark:text-white">Har du spørgsmål?</h1>

        <div class="mt-8 xl:mt-16 lg:flex lg:-mx-12">
            <div class="lg:mx-12">
                <h1 class="text-xl font-semibold text-gray-800 dark:text-white">Indholdsfortegnelse</h1>

                <div class="mt-4 space-y-4 lg:mt-8">
                    <a href="#general" class="block text-primary dark:text-primary hover:underline">Generelt</a>
                    <a href="#services" class="block text-gray-500 dark:text-gray-300 hover:underline">Services</a>
                    <a href="#pricing" class="block text-gray-500 dark:text-gray-300 hover:underline">Priser</a>
                    <a href="#process" class="block text-gray-500 dark:text-gray-300 hover:underline">Proces</a>
                    <a href="#contact" class="block text-gray-500 dark:text-gray-300 hover:underline">Kontakt</a>
                </div>
            </div>

            <div class="flex-1 mt-8 lg:mx-12 lg:mt-0">
                {% for block in page.body %}
                    {% if block.block_type == 'faq' %}
                        {% for item in block.value.items %}
                            <div class="faq-item">
                                <button class="flex items-center focus:outline-none w-full text-left" onclick="toggleFAQ(this)">
                                    <svg class="flex-shrink-0 w-6 h-6 text-primary transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                    </svg>
                                    <h1 class="mx-4 text-xl text-gray-700 dark:text-white">{{ item.question }}</h1>
                                </button>

                                <div class="faq-answer hidden">
                                    <div class="flex mt-8 md:mx-10">
                                        <span class="border border-primary"></span>
                                        <div class="max-w-3xl px-4 text-gray-500 dark:text-gray-300">
                                            {{ item.answer|richtext }}
                                        </div>
                                    </div>
                                </div>
                            </div>

                            {% if not forloop.last %}
                                <hr class="my-8 border-gray-200 dark:border-gray-700">
                            {% endif %}
                        {% endfor %}
                    {% else %}
                        {% include_block block %}
                    {% endif %}
                {% endfor %}

                <!-- Default FAQ items if no content is added -->
                {% if not page.body %}
                    <div class="faq-item">
                        <button class="flex items-center focus:outline-none w-full text-left" onclick="toggleFAQ(this)">
                            <svg class="flex-shrink-0 w-6 h-6 text-primary transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            <h1 class="mx-4 text-xl text-gray-700 dark:text-white">Hvor lang tid tager et typisk byggeprojekt?</h1>
                        </button>

                        <div class="faq-answer hidden">
                            <div class="flex mt-8 md:mx-10">
                                <span class="border border-primary"></span>
                                <div class="max-w-3xl px-4 text-gray-500 dark:text-gray-300">
                                    <p>Projektets varighed afhænger af omfanget og kompleksiteten. Et mindre renoveringsprojekt kan tage 2-4 uger, mens større nybyggerier kan tage 3-6 måneder. Vi giver altid en realistisk tidsramme i vores tilbud.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr class="my-8 border-gray-200 dark:border-gray-700">

                    <div class="faq-item">
                        <button class="flex items-center focus:outline-none w-full text-left" onclick="toggleFAQ(this)">
                            <svg class="flex-shrink-0 w-6 h-6 text-primary transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            <h1 class="mx-4 text-xl text-gray-700 dark:text-white">Hvad koster et byggeprojekt?</h1>
                        </button>

                        <div class="faq-answer hidden">
                            <div class="flex mt-8 md:mx-10">
                                <span class="border border-primary"></span>
                                <div class="max-w-3xl px-4 text-gray-500 dark:text-gray-300">
                                    <p>Prisen varierer meget afhængigt af projektets størrelse og kompleksitet. Vi tilbyder altid et gratis og uforpligtende tilbud, så du kan få en præcis pris for dit specifikke projekt.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr class="my-8 border-gray-200 dark:border-gray-700">

                    <div class="faq-item">
                        <button class="flex items-center focus:outline-none w-full text-left" onclick="toggleFAQ(this)">
                            <svg class="flex-shrink-0 w-6 h-6 text-primary transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            <h1 class="mx-4 text-xl text-gray-700 dark:text-white">Har I forsikring og garanti?</h1>
                        </button>

                        <div class="faq-answer hidden">
                            <div class="flex mt-8 md:mx-10">
                                <span class="border border-primary"></span>
                                <div class="max-w-3xl px-4 text-gray-500 dark:text-gray-300">
                                    <p>Ja, vi har fuld forsikring og giver 5 års garanti på alle vores arbejder. Vi er også medlem af Byggecentrum og følger alle relevante branchestandarder.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <hr class="my-8 border-gray-200 dark:border-gray-700">

                    <div class="faq-item">
                        <button class="flex items-center focus:outline-none w-full text-left" onclick="toggleFAQ(this)">
                            <svg class="flex-shrink-0 w-6 h-6 text-primary transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                            </svg>
                            <h1 class="mx-4 text-xl text-gray-700 dark:text-white">Kan I hjælpe med byggetilladelser?</h1>
                        </button>

                        <div class="faq-answer hidden">
                            <div class="flex mt-8 md:mx-10">
                                <span class="border border-primary"></span>
                                <div class="max-w-3xl px-4 text-gray-500 dark:text-gray-300">
                                    <p>Ja, vi kan hjælpe dig med at ansøge om byggetilladelser og sikre, at alt overholder de lokale bygningsreglementer. Vi har erfaring med kommunerne i hele Danmark.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
</section>

<script>
function toggleFAQ(button) {
    const answer = button.parentElement.querySelector('.faq-answer');
    const icon = button.querySelector('svg');
    
    if (answer.classList.contains('hidden')) {
        answer.classList.remove('hidden');
        icon.style.transform = 'rotate(45deg)';
    } else {
        answer.classList.add('hidden');
        icon.style.transform = 'rotate(0deg)';
    }
}
</script>

{% endblock %}