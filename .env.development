# =============================================================================
# Development Environment Configuration
# Used for local development with unified docker-compose.yml
# =============================================================================

# =============================================================================
# Docker Configuration
# =============================================================================
DOCKER_TARGET=development
DOCKERFILE=Dockerfile

# Volume Configuration (use dev-specific volumes)
DB_VOLUME_NAME=postgres_dev_data
REDIS_VOLUME_NAME=redis_dev_data
STATIC_VOLUME_NAME=static_dev_volume
MEDIA_VOLUME_NAME=media_dev_volume
NETWORK_NAME=kni_webapp_dev_network

# Mount Configuration (handled by docker-compose.override.yml)
# MOUNT_CODE_PATH=.
# MOUNT_LOGS_PATH=./logs

# =============================================================================
# Port Configuration
# =============================================================================
WEB_EXPOSE_PORT=9000
DATABASE_EXPOSE_PORT=5433
REDIS_EXPOSE_PORT=6380

# =============================================================================
# Django Core Settings
# =============================================================================
DJANGO_SECRET_KEY=local-dev-secret-key-not-for-production
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,0.0.0.0
CSRF_TRUSTED_ORIGINS=http://localhost:8080

# =============================================================================
# Database Configuration
# =============================================================================
DATABASE_NAME=kni_webapp_dev
DATABASE_USER=kni_user
DATABASE_PASSWORD=kni_secure_password
DATABASE_AUTH_METHOD=md5

# =============================================================================
# Redis Configuration (no password for development)
# =============================================================================
# REDIS_PASSWORD=  # Leave empty for development

# =============================================================================
# Application Configuration
# =============================================================================
WAGTAILADMIN_BASE_URL=http://localhost:8080
SECURE_SSL_REDIRECT=False

# =============================================================================
# Development Data Management
# =============================================================================
LOAD_BASELINE=false
SEED_TENANT_DATA=false

# =============================================================================
# Development Admin User (created automatically)
# =============================================================================
DJANGO_SUPERUSER_EMAIL=admin@local.test
DJANGO_SUPERUSER_PASSWORD=admin123

# =============================================================================
# Development Performance Settings
# =============================================================================
GUNICORN_WORKERS=1
GUNICORN_TIMEOUT=300
GUNICORN_RELOAD=True

# =============================================================================
# Development Logging
# =============================================================================
DJANGO_LOG_LEVEL=DEBUG

# =============================================================================
# Health Check Configuration (faster for development)
# =============================================================================
DB_HEALTH_INTERVAL=5s
DB_HEALTH_TIMEOUT=3s
DB_HEALTH_START_PERIOD=10s

REDIS_HEALTH_INTERVAL=5s
REDIS_HEALTH_TIMEOUT=3s
REDIS_HEALTH_START_PERIOD=5s

WEB_HEALTH_INTERVAL=30s
WEB_HEALTH_TIMEOUT=10s
WEB_HEALTH_START_PERIOD=60s
HEALTHCHECK_COMMAND=["CMD", "python", "manage.py", "check"]

# =============================================================================
# Development Command Override
# =============================================================================
DEVELOPMENT_COMMAND=sh -c "echo 'ðŸš€ Starting development server with auto-reload...' && python manage.py runserver 0.0.0.0:8000"

# =============================================================================
# Static Files Configuration (skip collectstatic in dev)
# =============================================================================
# Static files will be served directly by Django in development
SKIP_COLLECTSTATIC=1

# =============================================================================
# Coolify/Production Labels (disabled for development)
# =============================================================================
COOLIFY_MANAGED=false
TRAEFIK_ENABLED=false

# =============================================================================
# Network Configuration (skip dokploy network in development)
# =============================================================================
# Skip dokploy network by creating it as an optional/external network

# =============================================================================
# Resource Limits (relaxed for development)
# =============================================================================
MEMORY_LIMIT=2G
CPU_LIMIT=2.0
MEMORY_RESERVATION=256M
CPU_RESERVATION=0.25