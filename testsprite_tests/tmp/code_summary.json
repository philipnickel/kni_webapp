{
  "tech_stack": [
    "Python 3",
    "Django 4.2",
    "Wagtail 7.1",
    "PostgreSQL",
    "WhiteNoise",
    "HTMX"
  ],
  "features": [
    {
      "name": "Admin (Django/Wagtail)",
      "description": "Authentication, user and content admin via Django admin and Wagtail admin.",
      "files": [
        "project/urls.py",
        "apps/core/wagtail_hooks.py",
        "apps/core/apps.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {"title": "Admin APIs", "version": "1.0.0"},
        "paths": {
          "/django-admin/login/": {"get": {"summary": "Admin login page"}},
          "/admin/": {"get": {"summary": "Wagtail admin"}}
        }
      }
    },
    {
      "name": "Pages (Wagtail)",
      "description": "Public site pages including homepage, gallery, and contact page.",
      "files": [
        "apps/pages/models.py",
        "apps/pages/blocks.py",
        "templates/pages/"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {"title": "Pages", "version": "1.0.0"},
        "paths": {
          "/": {"get": {"summary": "Homepage"}},
          "/gallery/": {"get": {"summary": "Project gallery page"}},
          "/contact/": {"get": {"summary": "Contact page"}}
        }
      }
    },
    {
      "name": "Projects",
      "description": "Project listings and detail pages with image galleries.",
      "files": [
        "apps/projects/models.py",
        "apps/projects/urls.py",
        "apps/projects/views.py",
        "templates/projects/"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {"title": "Projects", "version": "1.0.0"},
        "paths": {
          "/projects/": {"get": {"summary": "List projects"}},
          "/projects/{slug}/": {"get": {"summary": "Project detail", "parameters": [{"name": "slug", "in": "path", "required": true, "schema": {"type": "string"}}]}}
        }
      }
    },
    {
      "name": "Contacts",
      "description": "Contact form submission and thank-you flow.",
      "files": [
        "apps/contacts/forms.py",
        "apps/contacts/models.py",
        "apps/contacts/views.py",
        "templates/contacts/"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {"title": "Contact", "version": "1.0.0"},
        "paths": {
          "/contact/": {"post": {"summary": "Submit contact form", "requestBody": {"content": {"application/x-www-form-urlencoded": {"schema": {"type": "object"}}}}}}
        }
      }
    },
    {
      "name": "Search & Sitemap",
      "description": "Search JSON endpoint and sitemap.xml for SEO.",
      "files": [
        "templates/search/",
        "templates/sitemap.xml",
        "project/urls.py"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {"title": "Search & Sitemap", "version": "1.0.0"},
        "paths": {
          "/search.json": {"get": {"summary": "Search results (JSON)"}},
          "/sitemap.xml": {"get": {"summary": "Sitemap XML"}}
        }
      }
    },
    {
      "name": "Static & Media",
      "description": "Static and media serving in development via Django and WhiteNoise.",
      "files": [
        "project/settings.py",
        "static/",
        "media/"
      ],
      "api_doc": {
        "openapi": "3.0.0",
        "info": {"title": "Assets", "version": "1.0.0"},
        "paths": {
          "/static/{path}": {"get": {"summary": "Static file"}},
          "/media/{path}": {"get": {"summary": "Media file"}}
        }
      }
    }
  ]
}

{
  "tech_stack": [
    "Python",
    "Django 4.2",
    "Wagtail CMS 7.1",
    "PostgreSQL",
    "HTML/CSS/JavaScript",
    "HTMX",
    "WhiteNoise",
    "Pillow"
  ],
  "features": [
    {
      "name": "Home Page Management",
      "description": "Dynamic home page with modular content blocks including hero sections, featured projects, testimonials, and call-to-action sections",
      "files": [
        "apps/pages/models.py",
        "apps/pages/blocks.py",
        "templates/pages/home_page.html"
      ],
      "api_doc": {
        "openapi": "3.0.3",
        "info": {
          "title": "Home Page API",
          "version": "1.0.0"
        },
        "paths": {
          "/": {
            "get": {
              "summary": "Get home page content",
              "description": "Retrieve the home page with all its modular content blocks",
              "responses": {
                "200": {
                  "description": "Home page HTML content",
                  "content": {
                    "text/html": {
                      "schema": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Project Management System",
      "description": "Comprehensive project management with both legacy Project model and new ProjectPage model with workflow capabilities, collections, priorities, and budget tracking",
      "files": [
        "apps/projects/models.py",
        "apps/projects/views.py",
        "apps/projects/urls.py",
        "apps/projects/admin.py",
        "templates/projects/project_page.html"
      ],
      "api_doc": {
        "openapi": "3.0.3",
        "info": {
          "title": "Project Management API",
          "version": "1.0.0"
        },
        "paths": {
          "/admin/projects/": {
            "get": {
              "summary": "List all projects",
              "description": "Admin view to list all projects with pagination",
              "responses": {
                "200": {
                  "description": "List of projects",
                  "content": {
                    "text/html": {
                      "schema": {
                        "type": "string"
                      }
                    }
                  }
                }
              }
            }
          },
          "/admin/projects/create/": {
            "post": {
              "summary": "Create new project",
              "description": "Create a new project with title, description, and other details",
              "requestBody": {
                "required": true,
                "content": {
                  "application/x-www-form-urlencoded": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "title": {"type": "string"},
                        "description": {"type": "string"},
                        "featured": {"type": "boolean"},
                        "published": {"type": "boolean"},
                        "date": {"type": "string", "format": "date"}
                      }
                    }
                  }
                }
              },
              "responses": {
                "302": {
                  "description": "Redirect to project list after creation"
                }
              }
            }
          },
          "/projekter/{slug}/": {
            "get": {
              "summary": "Get project details",
              "description": "Retrieve detailed information about a specific project",
              "parameters": [
                {
                  "name": "slug",
                  "in": "path",
                  "required": true,
                  "schema": {
                    "type": "string"
                  }
                }
              ],
              "responses": {
                "200": {
                  "description": "Project details HTML page"
                },
                "404": {
                  "description": "Project not found"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Contact Form System",
      "description": "Contact form handling with submission tracking, status management, and email notifications",
      "files": [
        "apps/contacts/models.py",
        "apps/contacts/views.py",
        "apps/contacts/forms.py",
        "apps/contacts/urls.py",
        "templates/contacts/form.html"
      ],
      "api_doc": {
        "openapi": "3.0.3",
        "info": {
          "title": "Contact Form API",
          "version": "1.0.0"
        },
        "paths": {
          "/fa-tilbud/": {
            "get": {
              "summary": "Display contact form",
              "description": "Show the contact form page",
              "responses": {
                "200": {
                  "description": "Contact form HTML page"
                }
              }
            },
            "post": {
              "summary": "Submit contact form",
              "description": "Process contact form submission",
              "requestBody": {
                "required": true,
                "content": {
                  "application/x-www-form-urlencoded": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "name": {"type": "string"},
                        "email": {"type": "string", "format": "email"},
                        "phone": {"type": "string"},
                        "message": {"type": "string"},
                        "consent": {"type": "boolean"}
                      },
                      "required": ["name", "email", "consent"]
                    }
                  }
                }
              },
              "responses": {
                "302": {
                  "description": "Redirect to thank you page"
                },
                "400": {
                  "description": "Form validation errors"
                }
              }
            }
          },
          "/fa-tilbud/tak/": {
            "get": {
              "summary": "Contact form thank you page",
              "description": "Display thank you message after form submission",
              "responses": {
                "200": {
                  "description": "Thank you page HTML"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Gallery Page System",
      "description": "Gallery pages to display project collections with filtering by tags and featured status",
      "files": [
        "apps/pages/models.py",
        "templates/pages/gallery_page.html"
      ],
      "api_doc": {
        "openapi": "3.0.3",
        "info": {
          "title": "Gallery API",
          "version": "1.0.0"
        },
        "paths": {
          "/gallery/": {
            "get": {
              "summary": "Display project gallery",
              "description": "Show gallery of projects with optional filtering",
              "parameters": [
                {
                  "name": "featured",
                  "in": "query",
                  "schema": {
                    "type": "string",
                    "enum": ["true"]
                  }
                },
                {
                  "name": "tag",
                  "in": "query",
                  "schema": {
                    "type": "string"
                  }
                }
              ],
              "responses": {
                "200": {
                  "description": "Gallery page HTML with filtered projects"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Search Functionality",
      "description": "Advanced search system with autocomplete, filtering, and search promotion capabilities",
      "files": [
        "apps/core/views.py",
        "apps/core/urls.py",
        "templates/search/search.html"
      ],
      "api_doc": {
        "openapi": "3.0.3",
        "info": {
          "title": "Search API",
          "version": "1.0.0"
        },
        "paths": {
          "/search/": {
            "get": {
              "summary": "Search pages and content",
              "description": "Search across all published pages with filtering options",
              "parameters": [
                {
                  "name": "query",
                  "in": "query",
                  "required": true,
                  "schema": {
                    "type": "string"
                  }
                },
                {
                  "name": "type",
                  "in": "query",
                  "schema": {
                    "type": "string",
                    "enum": ["projects"]
                  }
                },
                {
                  "name": "featured",
                  "in": "query",
                  "schema": {
                    "type": "string",
                    "enum": ["true"]
                  }
                },
                {
                  "name": "page",
                  "in": "query",
                  "schema": {
                    "type": "integer"
                  }
                }
              ],
              "responses": {
                "200": {
                  "description": "Search results HTML page with pagination"
                }
              }
            }
          },
          "/search/autocomplete/": {
            "get": {
              "summary": "Search autocomplete suggestions",
              "description": "Get search suggestions for autocomplete functionality",
              "parameters": [
                {
                  "name": "q",
                  "in": "query",
                  "required": true,
                  "schema": {
                    "type": "string",
                    "minLength": 2
                  }
                }
              ],
              "responses": {
                "200": {
                  "description": "JSON array of search suggestions",
                  "content": {
                    "application/json": {
                      "schema": {
                        "type": "object",
                        "properties": {
                          "suggestions": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "title": {"type": "string"},
                                "url": {"type": "string"},
                                "type": {"type": "string"}
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Site Settings Management",
      "description": "Centralized site configuration including company information, theme settings, navigation, and footer content",
      "files": [
        "apps/pages/models.py",
        "apps/core/context_processors.py"
      ],
      "api_doc": {
        "openapi": "3.0.3",
        "info": {
          "title": "Site Settings API",
          "version": "1.0.0"
        },
        "paths": {
          "/admin/settings/pages/sitesettings/": {
            "get": {
              "summary": "Site settings admin interface",
              "description": "Admin interface for managing site-wide settings",
              "responses": {
                "200": {
                  "description": "Site settings form HTML"
                }
              }
            },
            "post": {
              "summary": "Update site settings",
              "description": "Update site-wide configuration settings",
              "requestBody": {
                "required": true,
                "content": {
                  "application/x-www-form-urlencoded": {
                    "schema": {
                      "type": "object",
                      "properties": {
                        "company_name": {"type": "string"},
                        "phone": {"type": "string"},
                        "email": {"type": "string", "format": "email"},
                        "default_theme": {"type": "string", "enum": ["forest", "wood", "slate"]},
                        "font_choice": {"type": "string"}
                      }
                    }
                  }
                }
              },
              "responses": {
                "302": {
                  "description": "Redirect after successful update"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Media Management",
      "description": "Image upload and management system with automatic resizing and optimization",
      "files": [
        "project/settings.py",
        "apps/projects/models.py"
      ],
      "api_doc": {
        "openapi": "3.0.3",
        "info": {
          "title": "Media API",
          "version": "1.0.0"
        },
        "paths": {
          "/media/{path}": {
            "get": {
              "summary": "Serve media files",
              "description": "Serve uploaded images and media files",
              "parameters": [
                {
                  "name": "path",
                  "in": "path",
                  "required": true,
                  "schema": {
                    "type": "string"
                  }
                }
              ],
              "responses": {
                "200": {
                  "description": "Media file content",
                  "content": {
                    "image/*": {
                      "schema": {
                        "type": "string",
                        "format": "binary"
                      }
                    }
                  }
                },
                "404": {
                  "description": "File not found"
                }
              }
            }
          }
        }
      }
    },
    {
      "name": "Wagtail Admin Interface",
      "description": "Content management system with page editing, workflow management, and user permissions",
      "files": [
        "project/urls.py",
        "apps/projects/wagtail_hooks.py",
        "apps/projects/admin_dashboard.py"
      ],
      "api_doc": {
        "openapi": "3.0.3",
        "info": {
          "title": "Wagtail Admin API",
          "version": "1.0.0"
        },
        "paths": {
          "/admin/": {
            "get": {
              "summary": "Wagtail admin dashboard",
              "description": "Main admin interface for content management",
              "responses": {
                "200": {
                  "description": "Admin dashboard HTML"
                },
                "302": {
                  "description": "Redirect to login if not authenticated"
                }
              }
            }
          },
          "/admin/pages/": {
            "get": {
              "summary": "Page tree management",
              "description": "Hierarchical page management interface",
              "responses": {
                "200": {
                  "description": "Page tree HTML interface"
                }
              }
            }
          }
        }
      }
    }
  ]
}
