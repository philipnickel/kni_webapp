{% load i18n %}

<div class="w-panel w-panel--dashboard">
    <div class="w-panel__header">
        <h2 class="w-panel__title">{{ title }}</h2>
    </div>
    
    <div class="w-panel__content">
        <div class="w-grid w-grid--cols-2 w-grid--gap-4">
            
            <!-- Total Projects -->
            <div class="w-card w-card--padded">
                <div class="w-flex w-items-center w-justify-between">
                    <div>
                        <div class="w-text-14 w-text-secondary-600">{% trans "Total projekter" %}</div>
                        <div class="w-text-24 w-font-bold w-text-primary-600">{{ total_projects }}</div>
                    </div>
                    <div class="w-w-12 w-h-12 w-bg-primary-50 w-rounded-lg w-flex w-items-center w-justify-center">
                        <svg class="w-w-6 w-h-6 w-text-primary-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Active Projects -->
            <div class="w-card w-card--padded">
                <div class="w-flex w-items-center w-justify-between">
                    <div>
                        <div class="w-text-14 w-text-secondary-600">{% trans "Aktive projekter" %}</div>
                        <div class="w-text-24 w-font-bold w-text-success-600">{{ active_projects }}</div>
                    </div>
                    <div class="w-w-12 w-h-12 w-bg-success-50 w-rounded-lg w-flex w-items-center w-justify-center">
                        <svg class="w-w-6 w-h-6 w-text-success-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Completed Projects -->
            <div class="w-card w-card--padded">
                <div class="w-flex w-items-center w-justify-between">
                    <div>
                        <div class="w-text-14 w-text-secondary-600">{% trans "Færdige projekter" %}</div>
                        <div class="w-text-24 w-font-bold w-text-info-600">{{ completed_projects }}</div>
                    </div>
                    <div class="w-w-12 w-h-12 w-bg-info-50 w-rounded-lg w-flex w-items-center w-justify-center">
                        <svg class="w-w-6 w-h-6 w-text-info-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </div>
                </div>
            </div>
            
            <!-- Total Budget -->
            <div class="w-card w-card--padded">
                <div class="w-flex w-items-center w-justify-between">
                    <div>
                        <div class="w-text-14 w-text-secondary-600">{% trans "Total budget" %}</div>
                        <div class="w-text-20 w-font-bold w-text-warning-600">
                            {{ total_budget|floatformat:0|add:" DKK" }}
                        </div>
                    </div>
                    <div class="w-w-12 w-h-12 w-bg-warning-50 w-rounded-lg w-flex w-items-center w-justify-center">
                        <svg class="w-w-6 w-h-6 w-text-warning-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                        </svg>
                    </div>
                </div>
            </div>
            
        </div>
        
        <!-- Progress Bar -->
        {% if total_projects > 0 %}
        <div class="w-mt-6">
            <div class="w-flex w-items-center w-justify-between w-mb-2">
                <span class="w-text-14 w-text-secondary-600">{% trans "Færdiggørelsesprocent" %}</span>
                <span class="w-text-14 w-font-medium">{{ completion_rate|floatformat:1 }}%</span>
            </div>
            <div class="w-bg-secondary-200 w-rounded-full w-h-2">
                <div class="w-bg-success-500 w-h-2 w-rounded-full" style="width: {{ completion_rate }}%"></div>
            </div>
        </div>
        {% endif %}
        
        <!-- Workflow Status -->
        {% if projects_in_workflow %}
        <div class="w-mt-4 w-p-3 w-bg-info-50 w-rounded-lg w-border w-border-info-200">
            <div class="w-flex w-items-center w-gap-2">
                <svg class="w-w-4 w-h-4 w-text-info-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span class="w-text-14 w-text-info-700">
                    {{ projects_in_workflow }} {% trans "projekter afventer godkendelse i workflow" %}
                </span>
            </div>
        </div>
        {% endif %}
        
    </div>
</div>